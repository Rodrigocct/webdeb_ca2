<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <meta name="description" content="" />
        <meta name="author" content="Rodrigo Barreto" />
        <title>HomeWork WebDev CA2</title>
        <!-- Core theme CSS (includes Bootstrap)-->
		<link href="css/style.css" rel="stylesheet">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.58.1/codemirror.css">
        <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.58.1/codemirror.js"></script>
		<script>
            function reply_click(clicked_object)
                {
					var sql = clicked_object.getAttribute('data-sql');
                    editor.setValue(sql);
					executeSql(clicked_object);
                }
        </script>
    </head>
    <body>
          <div class="container">
			<header class="d-flex flex-wrap justify-content-center py-3 mb-4 border-bottom">
			  <a href="#" class="d-flex align-items-center mb-3 mb-md-0 me-md-auto text-dark text-decoration-none">
				<svg class="bi me-2" width="40" height="32"><use xlink:href="#bootstrap"/></svg>
				<span class="fs-4"><h1>WEB DEV CA2</h1></span>
			  </a>
			  <ul class="nav nav-pills">
				<li class="nav-item"><a href="part1.1.html" class="nav-link">Part 1.1</a></li>
				<li class="nav-item"><a href="#" class="nav-link active" aria-current="page">Part 1.2</a></li>
				<li class="nav-item"><a href="part1.3.html" class="nav-link">Part 1.3</a></li>
			  </ul>
			</header>
		  </div>
		  <div class="container">
            <div class="row">
                <div class="col-lg-12 text-center mt-5">
				<h1>1.2 Databases CA Part 2</h1>
                </div>
				
				<table class="table table-striped">
				  <thead>
					<tr>
					  <th>#</th>
					  <th>Script</th>
					  <th>Command</th>					  
					</tr>
				  </thead>
				  <tbody>
					<tr>
					  <th>1. </th>
					  <td>The number of all employees that started on 1991-05-01.</td>
					  <td>
							<button name="1.2.1" class="btn btn-success btn-block" data-sql="SELECT COUNT(*) total_employees FROM employees where hire_date >= '1991-05-01' LIMIT 100;" onClick="reply_click(this)">Execute</button>
					  </td>
					</tr>
					<tr>
					  <th>2. </th>
					  <td>List all emp_no who have had strictly more than 2 titles and display the total number of the titles they have had.</td>
					  <td>
							<button name="1.2.2" class="btn btn-success btn-block" data-sql="SELECT emp_id, count (emp_id) total_titles FROM titles GROUP by emp_id HAVING count (emp_id) > 2 LIMIT 100;" onClick="reply_click(this)">Execute</button>
					  </td>
					</tr>
					<tr>
					  <th>3. </th>
					  <td>List female employees (past/current) together with all other relation attributes.</td>
					  <td>
							<button name="1.2.3" class="btn btn-success btn-block" data-sql="SELECT * FROM employees where gender = 'F' LIMIT 100;" onClick="reply_click(this)">Execute</button>
					  </td>
					</tr>
					<tr>
					  <th>4. </th>
					   <td>List past/current employees hired prior to 1986-01-01 with the surname Simmel</td>
					  <td>
							<button name="1.2.4" class="btn btn-success btn-block" data-sql="SELECT * FROM employees where hire_date < '1986-01-01' and last_name = 'Simmel' LIMIT 100;" onClick="reply_click(this)">Execute</button>
					  </td>
					</tr>
					<tr>
					  <th>5. </th>
					  <td>How many past/current employees last name begins with the capital letter B?
Use a column alias total with B to output your results.</td>
					  <td>
							<button name="1.2.5" class="btn btn-success btn-block" data-sql="SELECT COUNT(*) total_with_B FROM employees where last_name LIKE 'B%' LIMIT 100;" onClick="reply_click(this)">Execute</button>
					  </td>
					</tr>
				  </tbody>
				</table>
                <div class="col-lg-10 order-2 border-success">
                    <textarea id="commands" class="mb-5" rows="6" cols="175"></textarea>
                    <div class="d-grid gap-2 mt-2 mb-1">
					<button class="btn btn-primary" type="button" id="execute">Execute</button>
                        <input type="file" class="form-control" id="dbfile" />
                    </div>
                    <div id="error" class="error"></div>
                    <pre id="output">Results will be displayed here</pre>
                </div>
            </div>
        </div>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.58.1/mode/sql/sql.min.js"></script>		
        <script type="text/javascript" src="js/gui.js"></script>  
		
    </body>
</html>